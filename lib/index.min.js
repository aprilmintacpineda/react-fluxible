"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dispatch=dispatch,exports.connect=connect;var _fluxibleJs=require("fluxible-js"),_react=_interopRequireDefault(require("react")),_createReactClass=_interopRequireDefault(require("create-react-class")),_redefineStaticsJs=_interopRequireDefault(require("redefine-statics-js"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function dispatch(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return a.apply(void 0,[{getStore:_fluxibleJs.getStore,updateStore:function c(a,b){(0,_fluxibleJs.updateStore)(a),b&&b()}}].concat(c))}function connect(a,b){return function(c){var d={};return b&&function(){for(var c=Object.keys(b),e=function(e){d[c[e]]=function(){for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];return dispatch.apply(void 0,[b[c[e]]].concat(d))}},f=0;f<c.length;f++)e(f)}(),(0,_redefineStaticsJs.default)((0,_createReactClass.default)({getInitialState:function c(){var b=this;if(a){var d=a((0,_fluxibleJs.getStore)());return this.removeListener=(0,_fluxibleJs.addUpdateListener)(function(c){b.setState(a(c))},Object.keys(d)),d}return{}},componentWillUnmount:function b(){a&&this.removeListener()},render:function a(){return _react.default.createElement(c,_extends({},this.props,this.state,d))}}),c)}}