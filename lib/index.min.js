"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dispatch=dispatch,exports.connect=connect;var _fluxibleJs=require("fluxible-js"),_react=_interopRequireDefault(require("react")),_redefineStaticsJs=_interopRequireDefault(require("redefine-statics-js"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){return b&&("object"===_typeof(b)||"function"==typeof b)?b:_assertThisInitialized(a)}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function dispatch(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return a.apply(void 0,[{getStore:_fluxibleJs.getStore,updateStore:function c(a,b){(0,_fluxibleJs.updateStore)(a),b&&b()}}].concat(c))}function connect(a,b){return function(c){var d={};b&&function(){for(var c=Object.keys(b),e=function(e){d[c[e]]=function(){for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];return dispatch.apply(void 0,[b[c[e]]].concat(d))}},f=0;f<c.length;f++)e(f)}();var e=function(b){function e(b){var f;return _classCallCheck(this,e),f=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,b)),_defineProperty(_assertThisInitialized(_assertThisInitialized(f)),"componentWillUnmount",function(){f.removeListener()}),_defineProperty(_assertThisInitialized(_assertThisInitialized(f)),"render",function(){return _react.default.createElement(c,_extends({},f.props,a?a((0,_fluxibleJs.getStore)()):{},d))}),f.state={count:0},f.removeListener=(0,_fluxibleJs.addUpdateListener)(function(){f.setState({count:f.state.count+1})}),f}return _inherits(e,b),e}(_react.default.Component);return(0,_redefineStaticsJs.default)(e,c)}}