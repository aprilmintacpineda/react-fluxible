(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),s=a.n(o),l=a(3),u=a.n(l),i=a(1),c=a(2);function m(){return r.a.createElement("div",null,r.a.createElement("h1",null,"react-fluxible demo."),r.a.createElement("h2",null,"State management library for inferno built on top of fluxible-js."),r.a.createElement("p",null,"In this demo app, I used ",r.a.createElement("strong",null,"react-fluxible")," to manage your username and todos.","I'm"," also using the persist feature to persist your todos but not your username. That means even if after you refresh your page, your todos should still be intact."))}var d=a(6),p=a.n(d);class h extends r.a.Component{render(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Todos component: Your todos (managed by react-fluxible)"),this.props.todos.length?this.props.todos.map((e,t)=>r.a.createElement("p",{key:t,className:"done"},r.a.createElement("span",{onClick:()=>{Object(i.updateStore)({todos:i.store.todos.filter((e,a)=>a!==t)})},style:{cursor:"pointer",color:"white",padding:"2px",borderRadius:"4px",backgroundColor:"red",marginRight:"5px"}},"x"),r.a.createElement("input",{type:"checkbox",checked:e.isDone,style:{marginRight:"5px"},onChange:e=>{Object(i.updateStore)({todos:i.store.todos.map((a,n)=>n!==t?a:Object(c.a)(Object(c.a)({},a),{},{isDone:e.target.checked}))})}}),e.isDone?r.a.createElement("s",null,e.value):e.value)):r.a.createElement("p",null,"You have no todos."))}}var f=p()(h,e=>({todos:e.todos})),b=a(7),E=a.n(b);function v({username:e}){return{username:e}}var y=function(){const e=E()(v).username;return r.a.createElement("div",null,r.a.createElement("h3",null,"Username component: Your usename (managed by react-fluxible)"),r.a.createElement("p",null,e||"You have no username."))};class g extends r.a.Component{constructor(e){super(e),this.state={newUsername:"",newTodoValue:""}}render(){return r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement("hr",null),r.a.createElement("p",null,"This data is store internally as state of this component."),r.a.createElement("form",{onSubmit:e=>{e.preventDefault(),Object(i.updateStore)({username:this.state.newUsername}),this.setState(Object(c.a)(Object(c.a)({},this.state),{},{newUsername:""}))}},r.a.createElement("input",{type:"text",value:this.state.newUsername,placeholder:"Your username here...",onChange:e=>{this.setState(Object(c.a)(Object(c.a)({},this.state),{},{newUsername:e.target.value}))}}),r.a.createElement("input",{type:"submit",value:"Change username"})),r.a.createElement("hr",null),r.a.createElement("h3",null,"Add todo"),r.a.createElement("p",null,"This data is managed as internal state of this component."),r.a.createElement("form",{onSubmit:e=>{e.preventDefault(),Object(i.updateStore)({todos:i.store.todos.concat({value:this.state.newTodoValue,isDone:!1})}),this.setState(Object(c.a)(Object(c.a)({},this.state),{},{newTodoValue:""}))}},r.a.createElement("input",{type:"text",value:this.state.newTodoValue,onChange:e=>{this.setState({newTodoValue:e.target.value})}}),r.a.createElement("input",{type:"submit",value:"Add todo"})),r.a.createElement("hr",null),r.a.createElement(y,null),r.a.createElement(f,null))}}u.a.config({driver:[u.a.WEBSQL,u.a.INDEXEDDB,u.a.LOCALSTORAGE],name:"myApp",version:"1.0",storeName:"asyncStorage",description:"react-fluxible example using asyncStorage"}),Object(i.initializeStore)({initialStore:{username:"",todos:[]},persist:{asyncStorage:u.a,restore:e=>({todos:e.todos||[]})}},()=>{console.log("async init done."),s.a.render(r.a.createElement(g,null),document.getElementById("root"))})},6:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var n=s(a(0)),r=a(1),o=s(a(14));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=function(e,t){function a(a){var o=this;return this.props=a,this.state=t(r.store),this.componentWillUnmount=(0,r.addObserver)((function(){o.setState(t(r.store))}),Object.keys(this.state)),this.render=function(){return n.default.createElement(e,l({},o.props,o.state))},this}return a.prototype=n.default.Component.prototype,a.prototype.constructor=a,(0,o.default)(a,e),a};t.default=u},7:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var n=a(0),r=a(1);var o=function(e){var t=(0,n.useState)((function(){return e(r.store)})),a=t[0],o=t[1];return(0,n.useEffect)((function(){return(0,r.addObserver)((function(){o(e(r.store))}),Object.keys(e(r.store)))}),[e]),a};t.default=o},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);